<!DOCTYPE html>
<html>
<head>
    <title>Lesson 12</title>
    <link rel ="stylesheet" href = "Styles/loadingpage.css">
    <link rel = "icon" type = "image/x-icon" href = "Imgs_and_stuff/pngwing.com (1).png">
    <link rel = "stylesheet" href = "Styles/mainpage.css">
    <link rel = "stylesheet" href = "Styles/LessonScreenFormat.css">
    <link rel = "stylesheet" href = "Styles/AlternateContentDisplay.css">
</head>

<body>
    <section class = "showcase" id = "main">
        <header class = "pageheader">
            <h2 class="main_logo" id = "main-logo"><a href = "index.html">&lt;Web@RC&gt;</a></h2>
            <span class = "main_toggle" onclick="openNav()"></span>
        </header>
        
        <div class = "main_text" id = "main-text">
            <h2>
                Lesson 12:
                <br>
                User Data and authentication techniques
            </h2>
    
            <dialog class = "Lecture" id="LectureVid">
                <div class = "LectureVideo">
                    <div>
                        <h2 style = "margin-bottom: 10px; margin-top: 50px;">Lesson 9 Video Recording:</h2>                               
                        <button onclick="LectureVid.close()" style = "margin-bottom: 10px; margin-top: 50px;"></button>
                    </div>
                    <video controls = "true" autoplay = "false" style = "position:static; opacity: 1; object-fit: contain; height: 100%; width: 100%; display: block;">
                        <source src = "Imgs_and_stuff/blurred_video_of_scripts_being_typed (1080p).mp4" type = "video/mp4">
                    </video>

                </div>
            </dialog>
            <a data-open-modal class = "LectureButton" onclick="LectureVid.showModal()">Watch Lecture</a>
            <video class = "main_video" src= "Imgs_and_stuff/blurred_video_of_scripts_being_typed (1080p).mp4" autoplay loop muted playsinline preload = "none"></video>

        </div>

        <div class = "lessonformat">
            <div class = "container">
                <div class = "tabs">
                    <h3 class = "active letab">Introduction to Cookies</h3>
                    <h3 class = "letab">Using Cookies</h3>
                    <h3 class = "letab">JWT tokens and authentication</h3>
                    <h3 class = "letab">Google Authentication</h3>
                </div>
                    
                <div class = "tab-content">
                    <div class = "active fade">
                        <h2 class = "HeaderPoint">What is the Backend?</h2>
                        <h3>
                            So far in the course you have been learning what developers call "Frontend development". Frontend development is the development of websites on a more visual and interactable level. For example,
                            what you see in a website, the multiple interactable elements in a website, etc. Basically, Frontend Development is simply the development of the graphical user interface of a website. <br><br>

                            However, the concept of Backend Development is the exact opposite. Backend Development is basically the development of the underlying systems in a website. For example, registration of users in a 
                            website, login systems, authentication systems, transaction systems, etc. Thus, in this final portion of the course, we will teach you how to design systems for your website to give it even more 
                            functionality, and we hope that by the end of it, you will become a full fledged Fullstack Developer!
                        </h3>
                    </div>
                    <div class = "fade">
                        <div class = "inactive">
                            <h2 class = "HeaderPoint">Importing libraries</h2>
                            <h2 class = "contentTitle">Why do we import libraries?</h2>
                            <h3>
                                Importing libraries are highly important when developing a Backend System, as they can help give your extra functions in your code in order to optimise runtime and 
                                develop code faster and easier. Libraries can also provide you with new functions that base NodeJs does not support or provide. 
                            </h3>
                            <h2 class = "contentTitle">How to import libraries</h2>
                            <h3>
                                Importing libraries is quite easy to do for Nodejs files on Visual Studio Code. If you go to the terminal tab on the top of Visual Studio Code and click New Terminal you can open up the
                                console for Visual Studio Code. Whenever you want to download libraries for NodeJS, you can search them up online, take the title of the library, and then in the console type:

                            </h3>
                            <h3>
                                <div class = "codeDiv">
                                <code>
                                    npm install INSERT_TITLE_NAME
                                </code>
                                </div>
                            </h3>
                            <h2 class = "contentTitle">Libraries you need to import for this course</h2>
                            <h3>
                                For this course, we will be using a variety of libraries in order to assist us to create a variety of backend systems. Thus, please run this line of code in the console below before
                                going any further:
                            </h3>
                            <h3>
                                <div class = "codeDiv">
                                <code>
                                    npm install express --save passport-local bcrypt mongoose mongodb --save-dev nodemon
                                </code>
                                </div>
                            </h3>
                            <h2 class = "contentTitle">Where to find NodeJS libraries</h2>
                            <h3>
                                If you ever want to try and use other NodeJS libraries for access to other functions, you can use the website <a href = "https://www.npmjs.com/" target = "_blank">npmjs.com</a>!
                            </h3>

                        </div>
                    </div>

                    <div class = "fade">
                        <div class = "inactive">
                            <h2 class = "HeaderPoint">Setting up your backend systems</h2>
                            <h3>
                                To start developing your Backend Systems for your website, first download NodeJS from the internet. This JavaScript Runtime can help us use Javascript to create complex systems
                                that can deal with the systems that we want to create.
                            </h3>
                            <h3>
                                Once you finish downloading NodeJs to your system, start by making a new Javascript file and typing the following syntax below:
                            </h3>
                            <h3>
                                <div class = "codeDiv">
                                <code>const express = require('express');<br>
                                const app = express();<br>
                                const bcrypt = require('bcrypt')<br>
                                const passport = require('passport')<br>
                                const mongoose = require('mongoose')<br><br>
                                
                                app.listen(3000)
                                </code>
                                </div>
                            </h3>
                            <h2 class = "contentTitle">Explanation for the code:</h2>
                            <h3>
                                The code above is a general setup for our server that we are going to run whenever we jumpstart out website. Of course, right now the code is barren due to us not putting in 
                                any content or specific configurations for now. But to generally explain what is going on above in our small server Javascript file, basically the constant variables are helping us 
                                declare which libraries we want to use in the server, and then designating them to a specific name (eg: the encryption library "Bcrypt" being assigned to the variable name "bcrypt"). 
                                Typically, when you want to use a library in a NodeJS file you would use this simple format to call on it after you downloaded the library (there are some exceptions to this, and you will
                                see the exceptions later on in the course).
                            </h3>

                            <h3>
                                As for the line <code>const app = express();</code> this essentially is saying that we want the app to use express js as its main way of displaying content. Finally, the app.listen syntax
                                allows us to define which port we want to host our server on. For now, since we don't have a real server, we will host it locally on our own individual machine. There is really not much reason
                                as to why we chose to use port 3000 over port 5000 or other valid ones other than being standard protocol.
                            </h3>
                            <h2 class = "contentTitle">Running the NodeJS File</h2>
                            <h3>
                                Once you finish downloading your libraries and have this code done, what you can do is then go into the package.json file in your index on the right, and then 
                                go to the "scripts" section and type in the code:<br>
                                <div class = "codeDiv">
                                    <code>"devStart": "nodemon INSERT_FULL_JS_FILE_NAME"</code>
                                </div>
                            </h3>
                            <h3>
                                What this does is that it sets the syntax of devStart as a way to jumpstart the server for your backend systems. So go to the terminal, and then type in the line:
                            </h3>
                            <h3>
                                <div class = "codeDiv">
                                    <code> npm run devStart</code>
                                </div>
                            </h3>
                            <h3>
                                Now what should happen is that you should now see that when you go to your browser of choice and then type in localhost:3000 you should see your new website. Of course, right now, there is no 
                                content at all in the website, so go to the next part of this course and let's take a look at how we can add some html and css to help give this page an actual look.
                            </h3>
                        </div>
                    </div>

                    <div class = "fade">
                        <h2 class = "HeaderPoint">Setting up webpages</h2>
                        <div class = "inactive">
                            <h2 class = "contentTitle">Setting up Express JS</h2>
                            <h3>
                                To make our webpages, let us first start by making a new file called "views", and then making a new ejs file. Much like HTML, CSS, and JavaScript to make an 
                                ejs file we can simply create a new file and end the title of the file with .ejs
                            </h3>
                            <h3>
                                Once that is done, go back to your main JavaScript file and type out the following code before the app.listen line:<br>
                                <div class = "codeDiv">
                                    <code>app.set('view engine', 'ejs');<br>
                                        app.set('views', './views')<br>
                                        app.use(express.urlencoded({ extended: false }))
                                    </code>
                                </div>
                            </h3>
                            <h3>
                                This code above basically does three main things, the first thing it does is that it sets the default file for what the webpage will look like as an ejs file. It then 
                                sets the "views" file we set up earlier as where the ejs files are stored. Finally, the urlencoded function makes it so that middleware functions are not directly put into 
                                the url (you will learn more about this later).
                            </h3>

                            <h2 class = "contentTitle">Setting up a webpage</h2>
                            <h3>
                                Now that we have the general setup for using Express JS we can then go back to our .ejs file and customise it to look like how we want it to look like when it is 
                                displayed in the webpage. This is done by using simple HTML, much like before. 
                            </h3>
                            <h3>
                                After that, we can then go back to our main Javascript backend file and then type in the following code to set up our homepage:<br>
                                <div class = "codeDiv">  
                                    <code>
                                        app.get("/", (req, res)=>{<br>
                                        &nbsp app.render('INSERT_EJS_FILE_NAME')<br>
                                        })
                                    </code>

                                </div>

                            </h3>
                            <h3>
                                What this code above does is that it basically makes it so when the user accesses the / page (or the default url for the website) it will render the ejs file of our choice.
                                Since we already set the server to interpret the rendered files as ejs files we don't need to add the .ejs after the end of our file name in the render function.
                            </h3>
                            <h2 class = "contentTitle">Going further with Express JS</h2>
                            <h3>
                                Express JS has some interesting features which can be used in order to further control what is displayed to a user of the webpage better than what base HTML could offer. One
                                example of this would be passing specific variables to be loaded into a page. You can do this by first adding this element into anywhere into ejs file:<br>
                                &lt;%= INSERT_VARIABLE_NAME %&gt;
                            </h3>
                            <h3>
                                This basically makes it so that there is now a variable that can be manipulated and placed anywhere in the ejs file. Typically you would use this to customise and load user specific info
                                (eg loading the user's username in the homepage of the website after logging in). In order to set the value of this string variable, you can add the following to your app.render line:<br>
                            </h3>
                            <h3>
                                <div class = "codeDiv">
                                    <code>app.get("/", (req,res)=>{<br>
                                            &nbsp res.render ("INSERT_EJS_FILE_NAME",{<br>
                                                &nbsp;&nbsp;&nbsp; INSERT_VARIABLE_NAME = VARIABLE_VALUE<br>
                                            &nbsp;&nbsp;})<br>
                                        })
                                    </code>
                                </div>
                                <!-- <code>app.get("/", (req,res)=>{<br>
                                        &nbsp res.render ("INSERT_EJS_FILE_NAME",{<br>
                                            &nbsp;&nbsp;&nbsp; INSERT_VARIABLE_NAME = VARIABLE_VALUE<br>
                                        &nbsp;&nbsp;})<br>
                                    })
                                </code> -->
                          w  </h3>
                            <h3>
                                If you want to, you can have multiple of these variables in your webpage, all you need to do is add a comma after the first defined variable value in the render function, and then type in the next
                                variable you want to define and use in the webpage you are loading.
                            </h3>

                            <h2 class = "contentTitle">Adding CSS and JavaScript</h2>
                            <h3>
                                Unlike base HTML, loading in CSS and JavaScript files into your .ejs file is a bit different, and requires a different process and setup to load them in. In order to add CSS and JavaScript files to 
                                your webpage, first make a new folder and name it "public", and then make two sub folders inside of them named "CSS" and "JavaScript". Much like the file names suggest, place all the CSS and Javascript
                                files in these folders respectivley.
                            </h3>
                            <h3>
                                After that, put the following line of code inside your main JavaScript file:
                            </h3>
                            <h3>
                                <code>
                                    app.use(express.static(path.join(__dirname, 'public')));
                                </code>
                            </h3>
                            <h3>
                                What this line above does is that it sets the main directory file for finding CSS, JavaScript, and other files that are going to be loaded into the .ejs files.
                            </h3>
                            <h3>
                                After this, go back to your ejs files in your view folder, and then add a CSS file from the CSS folder you created using the standardised syntax you are used to. However, an important thing to now note is that
                                you firstly don't have to reference the folder that the CSS folder is inside of, as it already knows which folder to look into. You also need to define MIME types everytime you load something in.
                                An example of this would be:
                            </h3>
                            <h3>
                                <code>
                                    &lt;link rel = "stylesheet" href = "/css/example.css" type = "text/css"&gt;
                                </code>
                            </h3>
                            <h3>
                                You need to follow this sort of formatting for any file that you have to import into your HTML file. You also need to change the type to the appropriate type (for example JavaScript would not
                                have the type of "text/css"). To see all the possible MIME types for HTML, you can refer to <a href = "https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types" target="_blank">this website</a>.
                            </h3>

                        </div>
                    </div>

                    
                </div>
            </div>
        </div>

        <div class = "footer" id = "main-text">
            <a class = "LectureButton bottombuttons" href="lesson-10-page.html">Previous Lesson</a>
            <a class = "LectureButton bottombuttons" href="lesson-11-page.html">Next Lesson</a>
        </div>
    </section>

    <div id = "main_side" class="main_menu"></div>
</body>

    <div class = "loader"></div>
    <div class = "loading" src = "Imgs_and_stuff/rat.jpg"></div>

    <script src = "Javascript/sidemenu.js"></script>
    <script src = "Javascript/loader.js"></script>
    <script src= "Javascript/AlternativeContentDisplay.js"></script>

</html>